find_trending_companies:
  description: >
    Find the top trending companies in the news in {sector} by searching the latest news.
    Only include companies that have not been selected before.
  expected_output: >
    A JSON list of companies with name, ticker, and reason for trending.
  agent: trending_company_finder
  output_file: output/trending_companies.json

research_trending_companies:
  description: >
    Given a list of trending companies, research each one and provide structured financial analysis.
  expected_output: >
    A structured JSON report with market position, future outlook, and investment potential for each company.
  agent: financial_researcher
  context:
    - find_trending_companies
  output_file: output/research_report.json

pick_best_company:
  description: >
    Analyze the research findings and select the single best company for investment.
    Use the push notification tool to notify the user with the decision and a 1-sentence rationale.
    Then write a detailed report explaining why this company was chosen and why others were rejected.
  expected_output: >
    A detailed investment decision report.
  agent: stock_picker
  context:
    - research_trending_companies
  output_file: output/decision.md